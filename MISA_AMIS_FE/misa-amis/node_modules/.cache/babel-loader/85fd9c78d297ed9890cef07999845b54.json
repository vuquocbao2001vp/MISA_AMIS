{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport formatDate from \"../../extension/formatDate\";\nimport Modal from \"../../components/base/Modal.vue\";\nimport PreLoadingTable from \"../../components/base/PreLoadingTable.vue\";\nimport \"mosha-vue-toastify/dist/style.css\";\nimport baseApi from \"../../base/baseApi/baseApi\";\nimport getData from \"../../base/baseApi/getData\";\nimport ModalThreeButton from \"../../components/base/ModalThreeButton.vue\";\nimport { createToast } from \"mosha-vue-toastify\";\nimport MessageApi from \"../../Enums/enumMessageApi\";\nimport Notifications from \"../../Enums/enumNotification\";\nexport default {\n  name: \"EmployeeDetail\",\n  components: {\n    Modal,\n    PreLoadingTable,\n    ModalThreeButton\n  },\n\n  data() {\n    return {\n      employeeSelected: {},\n      IsShowDialog: true,\n      Ischange: 0,\n      departments: [],\n      departmentNames: [],\n      postions: [],\n      postionNames: [],\n      isShowDepartmentDialog: false,\n      isShowPossitionDialog: false,\n      checkedGenderValue: 0,\n      checkedCustomerValue: 0,\n      checkedSupplierValue: 0,\n      IsError: false,\n      errMsg: [],\n      ErrorMode: 0,\n      IsCompleteData: true,\n      footerText: {},\n      IsShowModalChange: false,\n      IsShowModalThreeButton: false\n    };\n  },\n\n  props: {\n    employeeDetail: {\n      type: Object\n    },\n    newEmployeeCode: {\n      type: String\n    },\n    editMore: {\n      type: Number,\n      default: 0\n    },\n    isDouple: {\n      type: Number,\n      default: 0\n    }\n  },\n  methods: {\n    baseApi,\n    getData,\n    formatDate,\n\n    // Khi bấm vòa nút close trên dialog sẽ ẩn đi\n    //Author PQBinh (8/7/2022)\n    closeDialog() {\n      this.IsShowDialog = false;\n      this.$emit(\"closeDialog\", false);\n    },\n\n    // Thông báo việc thay đổi dữ liệu trong form\n    //Author PQBinh (8/7/2022)\n    btnCloseDialog() {\n      var me = this;\n\n      if (me.Ischange == 0) {\n        me.closeDialog();\n      } else {\n        me.IsShowModalThreeButton = true;\n      }\n    },\n\n    /*\n     ** Hàm nút bấm hủy\n     ** Author PQBinh (8/7/2022)\n     */\n    btnCancleOnClick() {\n      this.IsShowDialog = false;\n      this.$emit(\"closeDialog\", false);\n    },\n\n    /*\n     ** Hàm lưu nhân viên\n     ** Author PQBinh (8/7/2022)\n     */\n    btnSaveOnClick() {\n      this.IsCompleteData = true;\n\n      if (this.editMore != 0) {\n        this.validateEmployee(this.employeeSelected);\n\n        if (document.querySelector('input[name=\"radio\"]:checked').value == null) {\n          this.employeeSelected.gender = null;\n        } else this.employeeSelected.gender = document.querySelector('input[name=\"radio\"]:checked').value;\n\n        console.log(\"save\", this.employeeSelected);\n\n        if (this.validateEmployee(this.employeeSelected) == true) {\n          if (this.employeeSelected.dateOfBirth == \"\") this.employeeSelected.dateOfBirth = null;\n          if (this.employeeSelected.dateOfCard == \"\") this.employeeSelected.dateOfCard = null;\n          var url = \"http://localhost:5240/api/v1/Employees\";\n          this.baseApi(\"put\", url, this.employeeSelected);\n          createToast(MessageApi.Put);\n          this.$emit(\"reloadData\");\n          this.closeDialog();\n        }\n      } else {\n        this.validateEmployee(this.employeeSelected);\n\n        if (document.querySelector('input[name=\"radio\"]:checked').value == null) {\n          this.employeeSelected.gender = null;\n        } else this.employeeSelected.gender = document.querySelector('input[name=\"radio\"]:checked').value;\n\n        console.log(\"add\", this.employeeSelected);\n\n        if (this.validateEmployee(this.employeeSelected) == true) {\n          if (this.employeeSelected.dateOfBirth == \"\") this.employeeSelected.dateOfBirth = null;\n          if (this.employeeSelected.dateOfCard == \"\") this.employeeSelected.dateOfCard = null;\n          var url2 = \"http://localhost:5240/api/v1/Employees\";\n          this.baseApi(\"post\", url2, this.employeeSelected);\n          createToast(MessageApi.Post);\n          this.$emit(\"reloadData\");\n          this.closeDialog();\n        }\n      }\n\n      this.IsCompleteData = false;\n    },\n\n    //Hàm nhận sự thay đổi của input\n    //Author PQBinh (8/7/2022)\n    changeData() {\n      this.Ischange = 1;\n    },\n\n    /*\n     *** Hàm lưu và thêm mới\n     *** Author PQBinh (8/7/2022)\n     */\n    btnSaveAndAddOnClick() {\n      this.IsCompleteData = true;\n      this.validateEmployee(this.employeeSelected);\n      this.btnSaveOnClick();\n      this.IsShowDialog = true;\n      this.$emit(\"closeDialog\", true); // this.$emit(\"saveAndAdd\");\n\n      this.employeeSelected = {};\n      this.getNewCode();\n    },\n\n    changeDate() {\n      console.log(this.employeeSelected.dateOfBirth);\n    },\n\n    /*\n      mở dialog của department\n      //Author PQBinh (8/7/2022)\n    */\n    toggleOpenDialog() {\n      this.isShowDepartmentDialog = !this.isShowDepartmentDialog;\n    },\n\n    //autocomplete cho input phòng ban\n    //Author PQBinh (8/7/2022)\n    btndepartmentForm(departmentName, departmentId) {\n      this.employeeSelected.departmentName = departmentName;\n      this.employeeSelected.departmentId = departmentId;\n      this.isShowDepartmentDialog = false;\n    },\n\n    // autocomplete cho input chức vụ\n    //Author PQBinh (8/7/2022)\n    btnPositionForm(postionId, postionName) {\n      this.employeeSelected.postionId = postionId;\n      this.employeeSelected.postionName = postionName;\n      this.isShowPossitionDialog = false;\n    },\n\n    //Kiểm tra input mã có hợp lệ không\n    //Author PQBinh (8/7/2022)\n    checkCodeInput() {\n      var x = document.getElementById(\"formCode\");\n\n      if (x.value == \"\") {\n        x.classList.add(\"input-error\");\n      } else x.classList.remove(\"input-error\");\n    },\n\n    checkNameInput() {\n      var x = document.getElementById(\"formName\");\n\n      if (x.value == \"\") {\n        x.classList.add(\"input-error\");\n      } else x.classList.remove(\"input-error\");\n    },\n\n    checkDepartmentInput() {\n      var x = document.getElementById(\"formDepartment\");\n\n      if (x.value == \"\") {\n        x.classList.add(\"input-department-error\");\n      } else x.classList.remove(\"input-department-error\");\n    },\n\n    /*\n     *** Hàm kiểm tra dữ liệu có hợp lệ hay không\n     *** Author PQBinh (8/7/2022)\n     */\n    validateEmployee(employee) {\n      var me = this;\n      me.errMsg = [];\n      let isValid = true;\n\n      try {\n        // 1. Kiểm tra các trường bắt buộc\n        if (!employee.employeeCode) {\n          isValid = false;\n          me.errMsg.push(Notifications.Error.CodeEmpty);\n          document.getElementById(\"formName\");\n        } else {\n          //1.2. Kiểm tra xem mã nhân viên có trùng hay không\n          axios.get(`http://localhost:5240/api/v1/Employees/check/${me.employeeSelected.employeeCode}`).then(function (res) {\n            if (res.data == true) {\n              me.errMsg.push(`Mã đơn vị <${me.employeeSelected.employeeCode}> ${Notifications.Error.CodeSame}`);\n            }\n          }).catch(function (res) {\n            console.log(res);\n          });\n        } // Tên nhân viên không được trống\n\n\n        if (!employee.employeeName) {\n          isValid = false;\n          me.errMsg.push(Notifications.Error.NameEmpty);\n        } // Tên phòng ban không được trống\n\n\n        if (!employee.departmentName) {\n          isValid = false;\n          me.errMsg.push(Notifications.Error.DepartmentEmpty);\n        }\n\n        var currentDate = new Date();\n        employee.dateOfBirth = new Date(employee.dateOfBirth);\n        employee.dateOfCard = new Date(employee.dateOfCard); // console.log(\"dob\", dateOfBirth.getDate());\n        // 2. Kiểm tra các trường liên quan đến ngày tháng\n\n        if (employee.dateOfBirth.getYear() > currentDate.getYear()) {\n          isValid = false;\n          me.errMsg.push(Notifications.Error.BirthDayLarge);\n        } else if (employee.dateOfBirth.getYear() == currentDate.getYear()) {\n          if (employee.dateOfBirth.getMonth() > currentDate.getMonth()) {\n            isValid = false;\n            me.errMsg.push(Notifications.Error.DepartmentEmpty);\n          } else if (employee.dateOfBirth.getMonth() == currentDate.getMonth()) {\n            if (employee.dateOfBirth.getDate() > currentDate.getDate()) {\n              isValid = false;\n              me.errMsg.push(Notifications.Error.DepartmentEmpty);\n            }\n          }\n        }\n\n        if (employee.dateOfCard.getYear() > currentDate.getYear()) {\n          isValid = false;\n          me.errMsg.push(Notifications.Error.CartDayLarge);\n        } else if (employee.dateOfCard.getYear() == currentDate.getYear()) {\n          if (employee.dateOfCard.getMonth() > currentDate.getMonth()) {\n            isValid = false;\n            me.errMsg.push(Notifications.Error.CartDayLarge);\n          } else if (employee.dateOfCard.getMonth() == currentDate.getMonth()) {\n            if (employee.dateOfCard.getDate() > currentDate.getDate()) {\n              isValid = false;\n              me.errMsg.push(Notifications.Error.CartDayLarge);\n            }\n          }\n        } // 5. Kiểm tra xem còn lỗi validate hay không\n\n\n        if (!isValid) {\n          //Hiển thị thông báo lỗi\n          me.showModal(true);\n          return isValid;\n        }\n\n        return isValid;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    // Hàm mở Modal thông báo lỗi\n    //Author PQBinh (8/7/2022)\n    showModal(IsShow) {\n      this.IsError = IsShow;\n    },\n\n    // Nút mở combobox danh sách chức vụ\n    //Author PQBinh (8/7/2022)\n    toggleOpenListPossition() {\n      // console.log(\"btn open list postion\");\n      this.isShowPossitionDialog = !this.isShowPossitionDialog;\n    },\n\n    // Nút mở combobox dánh sách phòng ban\n    //Author PQBinh (8/7/2022)\n    changeDepartment() {\n      this.isShowDepartmentDialog = true;\n    },\n\n    //Lấy mã nhân viên mới\n    //Author PQBinh (8/7/2022)\n    getNewCode() {\n      var me = this;\n\n      try {\n        axios.get(\"http://localhost:5240/api/v1/Employees/getNewCode\").then(function (res) {\n          let newEmployeeCode = res.data;\n          me.employeeSelected.employeeCode = newEmployeeCode;\n          console.log(\"new Code\", newEmployeeCode); // focus vào ô nhập liệu\n\n          document.getElementById(\"formCode\").focus();\n        }).catch(function (res) {\n          console.log(res);\n        });\n      } catch (er) {\n        console.log(er);\n      }\n    },\n\n    //Nút Hủy Modal thông báo khi đóng\n    //Author PQBinh (8/7/2022)\n    cancelModal() {\n      this.IsShowModalThreeButton = false;\n    },\n\n    //Nút không của Modal thông báo khi đóng form\n    //Author PQBinh (8/7/2022)\n    notModal() {\n      var me = this;\n      me.IsShowModalThreeButton = false;\n      me.closeDialog();\n      me.$emit(\"reloadData\");\n    },\n\n    //Nút có của Modal thông báo khi đóng form\n    //Author PQBinh (8/7/2022)\n    acceptModal() {\n      var me = this;\n      me.IsShowModalThreeButton = false;\n\n      if (me.editMore == 0) {\n        me.btnSaveOnClick();\n      } else {\n        me.btnSaveAndAddOnClick();\n      }\n    },\n\n    getDepartmentList() {\n      var me = this;\n\n      try {\n        axios.get(\"http://localhost:5240/api/v1/Departments\").then(function (res) {\n          me.departments = res.data;\n          me.departments.forEach(department => {\n            me.departmentNames.push(department.departmentName);\n            return \"\";\n          }); // console.log(\"name\", me.departmentNames);\n        }).catch(function (res) {\n          console.log(res);\n        });\n      } catch (er) {\n        console.log(er);\n      }\n    },\n\n    getPostionList() {\n      var me = this;\n\n      try {\n        var config = {\n          method: \"get\",\n          url: \"http://localhost:5240/api/v1/Possitions\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            accept: \"application/json\"\n          }\n        };\n        axios(config).then(res => {\n          me.postions = res.data;\n          me.postions.forEach(postion => {\n            me.postionNames.push(postion.postionName);\n            return \"\";\n          });\n        }).catch(function (res) {\n          console.log(res);\n        });\n      } catch (er) {\n        console.log(er);\n      }\n    }\n\n  },\n\n  created() {\n    var me = this;\n    me.employeeSelected = me.employeeDetail; // console.log(\"Douple: \", me.isDouple);\n    // convert ngày sinh để có thể hiện ở input type date\n\n    me.employeeSelected.dateOfBirth = formatDate(me.employeeSelected.dateOfBirth).split(\"/\").join(\"-\"); // me.employeeSelected.dateOfBirth = new Date(me.employeeSelected.dateOfBirth);\n\n    console.log(me.employeeSelected.dateOfBirth); //convert ngày cấp cmnd để có thể hiện ở input type date\n\n    me.employeeSelected.dateOfCard = formatDate(me.employeeSelected.dateOfCard).split(\"/\").join(\"-\"); //\n\n    if (me.isDouple == 1) {\n      me.getNewCode();\n    } // document.getElementById(\"formGenderNu\").checked = true;\n    // Lấy danh sách phòng ban\n\n\n    me.getDepartmentList(); // Lấy danh sách chức vụ\n\n    me.getPostionList(); //Check các radio btn\n\n    me.checkedGenderValue = me.employeeSelected.gender;\n    me.checkedCustomerValue = me.employeeSelected.isCustomer;\n    me.checkedSupplierValue = me.employeeSelected.isSupplier;\n\n    if (me.editMore == 0) {\n      //Lấy mã nhân viên mới\n      me.getNewCode();\n    }\n\n    me.IsCompleteData = false;\n  }\n\n};","map":{"version":3,"mappings":"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","names":["axios","formatDate","Modal","PreLoadingTable","baseApi","getData","ModalThreeButton","createToast","MessageApi","Notifications","name","components","data","employeeSelected","IsShowDialog","Ischange","departments","departmentNames","postions","postionNames","isShowDepartmentDialog","isShowPossitionDialog","checkedGenderValue","checkedCustomerValue","checkedSupplierValue","IsError","errMsg","ErrorMode","IsCompleteData","footerText","IsShowModalChange","IsShowModalThreeButton","props","employeeDetail","type","Object","newEmployeeCode","String","editMore","Number","default","isDouple","methods","closeDialog","$emit","btnCloseDialog","me","btnCancleOnClick","btnSaveOnClick","validateEmployee","document","querySelector","value","gender","console","log","dateOfBirth","dateOfCard","url","Put","url2","Post","changeData","btnSaveAndAddOnClick","getNewCode","changeDate","toggleOpenDialog","btndepartmentForm","departmentName","departmentId","btnPositionForm","postionId","postionName","checkCodeInput","x","getElementById","classList","add","remove","checkNameInput","checkDepartmentInput","employee","isValid","employeeCode","push","Error","CodeEmpty","get","then","res","CodeSame","catch","employeeName","NameEmpty","DepartmentEmpty","currentDate","Date","getYear","BirthDayLarge","getMonth","getDate","CartDayLarge","showModal","error","IsShow","toggleOpenListPossition","changeDepartment","focus","er","cancelModal","notModal","acceptModal","getDepartmentList","forEach","department","getPostionList","config","method","headers","accept","postion","created","split","join","isCustomer","isSupplier"],"sourceRoot":"","sources":["E:\\MisaProject\\MISA_AMIS\\MISA_AMIS_FE\\misa-amis\\src\\pages\\Employee\\EmployeeDetail.vue"],"sourcesContent":["<template>\n  <div class=\"blur-container\" v-if=\"IsShowDialog\">\n    <div class=\"customer\" id=\"formCustomer\">\n      <div class=\"customer-header\">\n        <div class=\"customer-header-left\">\n          <span class=\"b-customer-title\"> Thông tin nhân viên </span>\n          <span class=\"b-checkbox b-customer-checkbox\">\n            <label for=\"isCutomer\" class=\"checkbox\">\n              <input\n                type=\"checkbox\"\n                id=\"isCustomer\"\n                name=\"isCustomer\"\n                class=\"checkbox-value\"\n                value=\"yes\"\n                :checked=\"checkedCustomerValue == 1\"\n                @change=\"changeData\"\n              />\n              <span class=\"custom-checkbox\">\n                <span class=\"custom-checkbox-inner\">\n                  <div class=\"icon-tick\"></div>\n                </span>\n              </span>\n              <span class=\"custom-title\">Là khách hàng</span>\n            </label>\n          </span>\n          <span class=\"b-checkbox b-customer-checkbox\">\n            <input\n              type=\"checkbox\"\n              id=\"isNcc\"\n              name=\"accept\"\n              value=\"yes\"\n              class=\"checkbox-value\"\n              :checked=\"checkedSupplierValue == 1\"\n              @change=\"changeData\"\n            />\n            <span class=\"custom-checkbox\">\n              <span class=\"custom-checkbox-inner\">\n                <div class=\"icon-tick\"></div>\n              </span>\n            </span>\n            <span class=\"custom-title\">Là nhà cung cấp</span>\n          </span>\n        </div>\n        <div class=\"b-customer-right\">\n          <span class=\"mi mi-help mi-24\"></span>\n          <span\n            class=\"mi mi-close mi-24\"\n            id=\"btnCloseForm\"\n            @click=\"btnCloseDialog\"\n          ></span>\n        </div>\n      </div>\n\n      <!-- Main Form -->\n      <div class=\"customer-main\">\n        <div class=\"customer-content\">\n          <div class=\"b-content-l1\">\n            <span class=\"b-content-l1-t1\">\n              <span class=\"b-editor\" id=\"formCodeContent\">\n                <div class=\"b-title-input\">\n                  <span class=\"b-title-input-content\"> Mã </span>\n                  <span class=\"b-title-input-importan\"> * </span>\n                </div>\n                <input\n                  type=\"text\"\n                  v-model=\"employeeSelected.employeeCode\"\n                  class=\"b-input b-code\"\n                  id=\"formCode\"\n                  @change=\"changeData\"\n                  @blur=\"checkCodeInput\"\n                />\n                <span class=\"form-code-error\"> Mã không được để trống.</span>\n              </span>\n              <span class=\"b-editor\" id=\"formCodeContent\">\n                <div class=\"b-title-input\">\n                  <span class=\"b-title-input-content\"> Tên </span>\n                  <span class=\"b-title-input-importan\"> * </span>\n                </div>\n                <input\n                  type=\"text\"\n                  v-model=\"employeeSelected.employeeName\"\n                  class=\"b-input b-name\"\n                  id=\"formName\"\n                  @change=\"changeData\"\n                  @blur=\"checkNameInput\"\n                />\n                <span class=\"form-code-error\"> Tên không được để trống.</span>\n              </span>\n            </span>\n\n            <span class=\"b-content-l1-t1\">\n              <div class=\"b-editor\" id=\"formCodeContent\">\n                <div class=\"b-title-input\">\n                  <span class=\"b-title-input-content\"> Đơn vị </span>\n                  <span class=\"b-title-input-importan\"> * </span>\n                </div>\n                <el-select\n                  v-model=\"employeeSelected.departmentName\"\n                  class=\"form-control\"\n                  placeholder=\"Chọn phòng ban\"\n                  @change=\"changeDepartment\"\n                >\n                  <el-option\n                    v-for=\"department in departments\"\n                    :key=\"department.departmentName\"\n                    :label=\"department.departmentName\"\n                    :value=\"department.departmentName\"\n                    @click=\"\n                      btndepartmentForm(\n                        department.departmentName,\n                        department.departmentId\n                      )\n                    \"\n                  />\n                </el-select>\n                <!-- <vue-single-select\n                  v-model=\"employeeSelected.departmentName\"\n                  :options=\"departmentNames\"\n                  :required=\"true\"\n                  :autocomplete=\"on\"\n                  :classes=\"{\n                    input: 'form-control',\n                    wrapper: 'form-group',\n                    icons: 'glyphicon',\n\n                    dropdown: 'dropdown',\n                  }\"\n                ></vue-single-select> -->\n                <!-- <div class=\"b-dropdown\">\n                  <div class=\"mi mi-16 mi-down\"></div>\n                </div> -->\n                <!-- <div class=\"b-combobox b-input-unit\">\n                  <input\n                    type=\"text\"\n                    class=\"b-input b-combobox b-unit\"\n                    id=\"formDepartment\"\n                    v-model=\"employeeSelected.departmentName\"\n                    @change=\"changeDepartment\"\n                    @blur=\"checkDepartmentInput\"\n                  />\n                  <span class=\"form-department-error\">\n                    Phòng ban không được để trống.</span\n                  >\n                  <div class=\"b-dropdown\">\n                    <div\n                      class=\"mi mi-16 mi-down\"\n                      @click=\"toggleOpenDialog()\"\n                    ></div>\n                  </div>\n                </div> -->\n              </div>\n            </span>\n            <!-- Department List -->\n            <!-- <table class=\"departmentForm\" v-if=\"isShowDepartmentDialog\">\n              <thead>\n                <tr class=\"departmentFormTitle\">\n                  <th class=\"departmentId\">Mã đơn vị</th>\n                  <th class=\"departmentName\">Tên đơn vị</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr\n                  class=\"departmentFormDetail\"\n                  v-for=\"department in departments\"\n                  :key=\"department.departmentId\"\n                  @click=\"\n                    btndepartmentForm(\n                      department.departmentName,\n                      department.departmentId\n                    )\n                  \"\n                >\n                  <th class=\"departmentId\">\n                    {{ department.departmentId.split(\"-\")[0] }}\n                  </th>\n                  <th class=\"departmentName\">\n                    {{ department.departmentName }}\n                  </th>\n                </tr>\n              </tbody>\n            </table> -->\n\n            <span class=\"b-content-l1-t1\">\n              <span class=\"b-editor\">\n                <div class=\"b-title-input\">\n                  <span class=\"b-title-input-content\"> Chức danh </span>\n                </div>\n                <!-- <vue-single-select\n                  v-model=\"employeeSelected.postionName\"\n                  :options=\"postionNames\"\n                  :required=\"true\"\n                  :autocomplete=\"on\"\n                  a-post-has-an-id=\"good for search and display\"\n                  :classes=\"{\n                    input: 'form-control',\n                    wrapper: 'form-group',\n                    icons: 'glyphicon',\n\n                    dropdown: 'dropdown',\n                  }\"\n                ></vue-single-select> -->\n                <el-select\n                  v-model=\"employeeSelected.postionName\"\n                  class=\"form-control\"\n                  placeholder=\"Chọn phòng ban\"\n                >\n                  <el-option\n                    v-for=\"pos in postions\"\n                    :key=\"pos.postionName\"\n                    :label=\"pos.postionName\"\n                    :value=\"pos.postionName\"\n                    @click=\"btnPositionForm(pos.postionId, pos.postionName)\"\n                  />\n                </el-select>\n                <!-- <div class=\"b-dropdown\">\n                  <div class=\"mi mi-16 mi-down\"></div>\n                </div> -->\n                <!-- <div class=\"b-combobox b-input-unit\">\n                  <input\n                    type=\"text\"\n                    class=\"b-input b-combobox b-unit\"\n                    v-model=\"employeeSelected.postionName\"\n                    @change=\"changeData\"\n                  />\n                  <div class=\"b-dropdown\">\n                    <div\n                      class=\"mi mi-16 mi-down\"\n                      @click=\"toggleOpenListPossition()\"\n                    ></div>\n                  </div>\n                </div> -->\n              </span>\n            </span>\n            <!-- <table\n              class=\"departmentForm possitionForm\"\n              v-if=\"isShowPossitionDialog\"\n            >\n              <thead>\n                <tr class=\"departmentFormTitle\">\n                  <th class=\"departmentId\">Mã chức vụ</th>\n                  <th class=\"departmentName\">Tên chức vụ</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr\n                  class=\"departmentFormDetail\"\n                  v-for=\"pos in postions\"\n                  :key=\"pos.postionId\"\n                  @click=\"btnPositionForm(pos.postionId, pos.postionName)\"\n                >\n                  <th class=\"departmentId\">\n                    {{ pos.postionId.split(\"-\")[0] }}\n                  </th>\n                  <th class=\"departmentName\">\n                    {{ pos.postionName }}\n                  </th>\n                </tr>\n              </tbody>\n            </table> -->\n          </div>\n          <div class=\"b-content-r1\">\n            <div class=\"b-content-r1-t1\">\n              <span class=\"b-content-l1-t1\">\n                <span class=\"b-editor\">\n                  <div class=\"b-title-input\">\n                    <span class=\"b-title-input-content\"> Ngày sinh </span>\n                  </div>\n                  <!-- <input\n                    type=\"date\"\n                    class=\"b-input b-date\"\n                    id=\"dateOfBirth\"\n                    v-model=\"employeeSelected.dateOfBirth\"\n                  /> -->\n                  <el-date-picker\n                    v-model=\"employeeSelected.dateOfBirth\"\n                    type=\"date\"\n                    placeholder=\"Pick a day\"\n                    format=\"DD/MM/YYYY\"\n                    value-format=\"DD-MM-YYYY\"\n                    @change=\"changeDate\"\n                  />\n                </span>\n                <span class=\"b-editor b-option-sex\">\n                  <div class=\"b-title-input\">\n                    <span class=\"b-title-input-content\"> Giới tính </span>\n                  </div>\n                  <div class=\"b-input-option\">\n                    <div class=\"b-input-option-title\">\n                      <input\n                        type=\"radio\"\n                        value=\"1\"\n                        name=\"radio\"\n                        id=\"formGender\"\n                        class=\"gender-checkbox-value\"\n                        :checked=\"checkedGenderValue == 1\"\n                        @change=\"changeData\"\n                      />\n                      <span class=\"gender-checkbox\">\n                        <span class=\"gender-checkbox-inner\">\n                          <div class=\"tickbox\"></div>\n                        </span>\n                      </span>\n                      <label class=\"gender-checkbox-title\">Nam</label>\n                    </div>\n                    <div class=\"b-input-option-title\">\n                      <input\n                        type=\"radio\"\n                        value=\"2\"\n                        name=\"radio\"\n                        id=\"formGender\"\n                        :checked=\"checkedGenderValue == 2\"\n                        class=\"gender-checkbox-value\"\n                        @change=\"changeData\"\n                      />\n                      <span class=\"gender-checkbox\">\n                        <span class=\"gender-checkbox-inner\">\n                          <div class=\"tickbox\"></div>\n                        </span>\n                      </span>\n                      <label class=\"gender-checkbox-title\">Nữ</label>\n                    </div>\n\n                    <div class=\"b-input-option-title\">\n                      <input\n                        type=\"radio\"\n                        value=\"3\"\n                        name=\"radio\"\n                        id=\"formGender\"\n                        class=\"gender-checkbox-value\"\n                        :checked=\"checkedGenderValue == 3\"\n                        @change=\"changeData\"\n                      />\n                      <span class=\"gender-checkbox\">\n                        <span class=\"gender-checkbox-inner\">\n                          <div class=\"tickbox\"></div>\n                        </span>\n                      </span>\n                      <label class=\"gender-checkbox-title\">Khác</label>\n                    </div>\n                  </div>\n                </span>\n              </span>\n\n              <span class=\"b-content-l1-t1\">\n                <span class=\"b-editor\">\n                  <div class=\"b-title-input\">\n                    <span\n                      class=\"b-title-input-content\"\n                      title=\"Số chứng minh nhân dân\"\n                    >\n                      Số CMND\n                    </span>\n                  </div>\n                  <input\n                    type=\"text\"\n                    class=\"b-input b-input-cmnd\"\n                    v-model=\"employeeSelected.identityCard\"\n                  />\n                </span>\n                <span class=\"b-editor\">\n                  <div class=\"b-title-input\">\n                    <span class=\"b-title-input-content\"> Ngày cấp </span>\n                  </div>\n                  <!-- <input\n                    type=\"date\"\n                    class=\"b-input b-name b-input-dayofcmnd\"\n                    id=\"dateOfCard\"\n                    v-model=\"employeeSelected.dateOfCard\"\n                    @change=\"changeData\"\n                  /> -->\n                  <el-date-picker\n                    v-model=\"employeeSelected.dateOfCard\"\n                    type=\"date\"\n                    placeholder=\"Pick a day\"\n                    format=\"DD/MM/YYYY\"\n                    value-format=\"DD-MM-YYYY\"\n                    @change=\"changeData\"\n                  />\n                </span>\n              </span>\n\n              <span class=\"b-content-l1-t1\">\n                <span class=\"b-editor\">\n                  <div class=\"b-title-input\">\n                    <span class=\"b-title-input-content\"> Nơi cấp </span>\n                  </div>\n                  <div class=\"b-combobox b-input-unit\">\n                    <input\n                      type=\"text\"\n                      class=\"b-input b-unit b-input-placeofcmnd\"\n                      v-model=\"employeeSelected.placeOfCard\"\n                      @change=\"changeData\"\n                    />\n                  </div>\n                </span>\n              </span>\n            </div>\n          </div>\n        </div>\n        <div class=\"customer-content\">\n          <div class=\"b-content-l2\">\n            <div class=\"b-content-subtitle\">\n              <span class=\"b-content-l1-t1\">\n                <span class=\"b-editor\">\n                  <div class=\"b-title-input\">\n                    <span class=\"b-title-input-content\"> Địa chỉ </span>\n                  </div>\n                  <input\n                    type=\"text\"\n                    class=\"b-input b-address\"\n                    v-model=\"employeeSelected.address\"\n                    @change=\"changeData\"\n                  />\n                </span>\n              </span>\n              <span class=\"b-content-l1-t1\">\n                <span class=\"b-editor\">\n                  <div class=\"b-title-input\">\n                    <span\n                      class=\"b-title-input-content\"\n                      title=\"Điện thoại di động\"\n                    >\n                      ĐT di động\n                    </span>\n                  </div>\n                  <input\n                    type=\"text\"\n                    class=\"b-input b-code\"\n                    v-model=\"employeeSelected.phoneNumber\"\n                    @change=\"changeData\"\n                  />\n                </span>\n                <span class=\"b-editor\">\n                  <div class=\"b-title-input\">\n                    <span\n                      class=\"b-title-input-content\"\n                      title=\"Điện thoại cố định\"\n                    >\n                      ĐT cố định\n                    </span>\n                  </div>\n                  <input\n                    type=\"text\"\n                    class=\"b-input b-c\"\n                    v-model=\"employeeSelected.landlineNumber\"\n                    @change=\"changeData\"\n                  />\n                </span>\n                <span class=\"b-editor\">\n                  <div class=\"b-title-input\">\n                    <span class=\"b-title-input-content\"> Email </span>\n                  </div>\n                  <input\n                    type=\"text\"\n                    class=\"b-input b-code b-email\"\n                    v-model=\"employeeSelected.email\"\n                    @change=\"changeData\"\n                  />\n                </span>\n              </span>\n              <span class=\"b-content-l1-t1\">\n                <span class=\"b-editor\">\n                  <div class=\"b-title-input\">\n                    <span\n                      class=\"b-title-input-content\"\n                      title=\"Điện thoại di động\"\n                    >\n                      Tài khoản ngân hàng\n                    </span>\n                  </div>\n                  <input\n                    type=\"text\"\n                    class=\"b-input b-code\"\n                    v-model=\"employeeSelected.bankNumber\"\n                    @change=\"changeData\"\n                  />\n                </span>\n                <span class=\"b-editor\">\n                  <div class=\"b-title-input\">\n                    <span\n                      class=\"b-title-input-content\"\n                      title=\"Điện thoại cố định\"\n                    >\n                      Tên ngân hàng\n                    </span>\n                  </div>\n                  <input\n                    type=\"text\"\n                    class=\"b-input b-c\"\n                    v-model=\"employeeSelected.bankName\"\n                    @change=\"changeData\"\n                  />\n                </span>\n                <span class=\"b-editor\">\n                  <div class=\"b-title-input\">\n                    <span class=\"b-title-input-content\"> Chi nhánh </span>\n                  </div>\n                  <input\n                    type=\"text\"\n                    class=\"b-input b-code b-branch\"\n                    v-model=\"employeeSelected.bankBranch\"\n                    @change=\"changeData\"\n                  />\n                </span>\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- Footer Form -->\n      <div class=\"customer-footer\">\n        <div class=\"button-left\">\n          <div class=\"btn-cancel btn-footer\" @click=\"btnCancleOnClick\">Hủy</div>\n        </div>\n\n        <div class=\"button-right\">\n          <div class=\"btn-save btn-footer\" @click=\"btnSaveOnClick\">Cất</div>\n\n          <div class=\"btn-save-add btn-footer\" @click=\"btnSaveAndAddOnClick\">\n            Cất và thêm\n          </div>\n        </div>\n      </div>\n      <Modal\n        v-if=\"IsError\"\n        :errMsg=\"errMsg\"\n        :ErrorMode=\"ErrorMode\"\n        @closeModal=\"showModal\"\n        :footerText=\"footerText\"\n      />\n      <ModalThreeButton\n        v-if=\"IsShowModalThreeButton\"\n        @cancelModal=\"cancelModal\"\n        @notModal=\"notModal\"\n        @acceptModal=\"acceptModal\"\n      />\n    </div>\n    <PreLoadingTable v-if=\"IsCompleteData\" />\n  </div>\n</template>\n<style>\n@import url(../../css/layout/customer.css);\n@import url(../../css/base/combobox.css);\n.blur-container {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.4);\n  z-index: 999;\n}\n</style>\n<script>\nimport axios from \"axios\";\nimport formatDate from \"../../extension/formatDate\";\nimport Modal from \"../../components/base/Modal.vue\";\nimport PreLoadingTable from \"../../components/base/PreLoadingTable.vue\";\nimport \"mosha-vue-toastify/dist/style.css\";\nimport baseApi from \"../../base/baseApi/baseApi\";\nimport getData from \"../../base/baseApi/getData\";\nimport ModalThreeButton from \"../../components/base/ModalThreeButton.vue\";\nimport { createToast } from \"mosha-vue-toastify\";\nimport MessageApi from \"../../Enums/enumMessageApi\";\nimport Notifications from \"../../Enums/enumNotification\";\nexport default {\n  name: \"EmployeeDetail\",\n\n  components: {\n    Modal,\n    PreLoadingTable,\n    ModalThreeButton,\n  },\n\n  data() {\n    return {\n      employeeSelected: {},\n      IsShowDialog: true,\n      Ischange: 0,\n      departments: [],\n      departmentNames: [],\n      postions: [],\n      postionNames: [],\n      isShowDepartmentDialog: false,\n      isShowPossitionDialog: false,\n      checkedGenderValue: 0,\n      checkedCustomerValue: 0,\n      checkedSupplierValue: 0,\n      IsError: false,\n      errMsg: [],\n      ErrorMode: 0,\n      IsCompleteData: true,\n      footerText: {},\n      IsShowModalChange: false,\n      IsShowModalThreeButton: false,\n    };\n  },\n\n  props: {\n    employeeDetail: {\n      type: Object,\n    },\n\n    newEmployeeCode: {\n      type: String,\n    },\n\n    editMore: {\n      type: Number,\n      default: 0,\n    },\n\n    isDouple: {\n      type: Number,\n      default: 0,\n    },\n  },\n  methods: {\n    baseApi,\n\n    getData,\n\n    formatDate,\n\n    // Khi bấm vòa nút close trên dialog sẽ ẩn đi\n    //Author PQBinh (8/7/2022)\n\n    closeDialog() {\n      this.IsShowDialog = false;\n      this.$emit(\"closeDialog\", false);\n    },\n\n    // Thông báo việc thay đổi dữ liệu trong form\n    //Author PQBinh (8/7/2022)\n    btnCloseDialog() {\n      var me = this;\n      if (me.Ischange == 0) {\n        me.closeDialog();\n      } else {\n        me.IsShowModalThreeButton = true;\n      }\n    },\n\n    /*\n     ** Hàm nút bấm hủy\n     ** Author PQBinh (8/7/2022)\n     */\n    btnCancleOnClick() {\n      this.IsShowDialog = false;\n      this.$emit(\"closeDialog\", false);\n    },\n\n    /*\n     ** Hàm lưu nhân viên\n     ** Author PQBinh (8/7/2022)\n     */\n    btnSaveOnClick() {\n      this.IsCompleteData = true;\n\n      if (this.editMore != 0) {\n        this.validateEmployee(this.employeeSelected);\n\n        if (\n          document.querySelector('input[name=\"radio\"]:checked').value == null\n        ) {\n          this.employeeSelected.gender = null;\n        } else\n          this.employeeSelected.gender = document.querySelector(\n            'input[name=\"radio\"]:checked'\n          ).value;\n\n        console.log(\"save\", this.employeeSelected);\n        if (this.validateEmployee(this.employeeSelected) == true) {\n          if (this.employeeSelected.dateOfBirth == \"\")\n            this.employeeSelected.dateOfBirth = null;\n          if (this.employeeSelected.dateOfCard == \"\")\n            this.employeeSelected.dateOfCard = null;\n\n          var url = \"http://localhost:5240/api/v1/Employees\";\n          this.baseApi(\"put\", url, this.employeeSelected);\n          createToast(MessageApi.Put);\n          this.$emit(\"reloadData\");\n\n          this.closeDialog();\n        }\n      } else {\n        this.validateEmployee(this.employeeSelected);\n\n        if (\n          document.querySelector('input[name=\"radio\"]:checked').value == null\n        ) {\n          this.employeeSelected.gender = null;\n        } else\n          this.employeeSelected.gender = document.querySelector(\n            'input[name=\"radio\"]:checked'\n          ).value;\n        console.log(\"add\", this.employeeSelected);\n\n        if (this.validateEmployee(this.employeeSelected) == true) {\n          if (this.employeeSelected.dateOfBirth == \"\")\n            this.employeeSelected.dateOfBirth = null;\n          if (this.employeeSelected.dateOfCard == \"\")\n            this.employeeSelected.dateOfCard = null;\n\n          var url2 = \"http://localhost:5240/api/v1/Employees\";\n          this.baseApi(\"post\", url2, this.employeeSelected);\n          createToast(MessageApi.Post);\n          this.$emit(\"reloadData\");\n\n          this.closeDialog();\n        }\n      }\n      this.IsCompleteData = false;\n    },\n\n    //Hàm nhận sự thay đổi của input\n    //Author PQBinh (8/7/2022)\n    changeData() {\n      this.Ischange = 1;\n    },\n\n    /*\n     *** Hàm lưu và thêm mới\n     *** Author PQBinh (8/7/2022)\n     */\n    btnSaveAndAddOnClick() {\n      this.IsCompleteData = true;\n\n      this.validateEmployee(this.employeeSelected);\n\n      this.btnSaveOnClick();\n\n      this.IsShowDialog = true;\n      this.$emit(\"closeDialog\", true);\n      // this.$emit(\"saveAndAdd\");\n      this.employeeSelected = {};\n      this.getNewCode();\n    },\n\n    changeDate() {\n      console.log(this.employeeSelected.dateOfBirth);\n    },\n\n    /*\n      mở dialog của department\n      //Author PQBinh (8/7/2022)\n    */\n    toggleOpenDialog() {\n      this.isShowDepartmentDialog = !this.isShowDepartmentDialog;\n    },\n\n    //autocomplete cho input phòng ban\n    //Author PQBinh (8/7/2022)\n    btndepartmentForm(departmentName, departmentId) {\n      this.employeeSelected.departmentName = departmentName;\n      this.employeeSelected.departmentId = departmentId;\n      this.isShowDepartmentDialog = false;\n    },\n\n    // autocomplete cho input chức vụ\n    //Author PQBinh (8/7/2022)\n    btnPositionForm(postionId, postionName) {\n      this.employeeSelected.postionId = postionId;\n      this.employeeSelected.postionName = postionName;\n      this.isShowPossitionDialog = false;\n    },\n\n    //Kiểm tra input mã có hợp lệ không\n    //Author PQBinh (8/7/2022)\n    checkCodeInput() {\n      var x = document.getElementById(\"formCode\");\n      if (x.value == \"\") {\n        x.classList.add(\"input-error\");\n      } else x.classList.remove(\"input-error\");\n    },\n\n    checkNameInput() {\n      var x = document.getElementById(\"formName\");\n      if (x.value == \"\") {\n        x.classList.add(\"input-error\");\n      } else x.classList.remove(\"input-error\");\n    },\n\n    checkDepartmentInput() {\n      var x = document.getElementById(\"formDepartment\");\n      if (x.value == \"\") {\n        x.classList.add(\"input-department-error\");\n      } else x.classList.remove(\"input-department-error\");\n    },\n    /*\n     *** Hàm kiểm tra dữ liệu có hợp lệ hay không\n     *** Author PQBinh (8/7/2022)\n     */\n    validateEmployee(employee) {\n      var me = this;\n      me.errMsg = [];\n      let isValid = true;\n      try {\n        // 1. Kiểm tra các trường bắt buộc\n        if (!employee.employeeCode) {\n          isValid = false;\n          me.errMsg.push(Notifications.Error.CodeEmpty);\n          document.getElementById(\"formName\");\n        } else {\n          //1.2. Kiểm tra xem mã nhân viên có trùng hay không\n          axios\n            .get(\n              `http://localhost:5240/api/v1/Employees/check/${me.employeeSelected.employeeCode}`\n            )\n            .then(function (res) {\n              if (res.data == true) {\n                me.errMsg.push(\n                  `Mã đơn vị <${me.employeeSelected.employeeCode}> ${Notifications.Error.CodeSame}`\n                );\n              }\n            })\n            .catch(function (res) {\n              console.log(res);\n            });\n        }\n        // Tên nhân viên không được trống\n        if (!employee.employeeName) {\n          isValid = false;\n          me.errMsg.push(Notifications.Error.NameEmpty);\n        }\n        // Tên phòng ban không được trống\n        if (!employee.departmentName) {\n          isValid = false;\n          me.errMsg.push(Notifications.Error.DepartmentEmpty);\n        }\n        var currentDate = new Date();\n        employee.dateOfBirth = new Date(employee.dateOfBirth);\n        employee.dateOfCard = new Date(employee.dateOfCard);\n        // console.log(\"dob\", dateOfBirth.getDate());\n        // 2. Kiểm tra các trường liên quan đến ngày tháng\n        if (employee.dateOfBirth.getYear() > currentDate.getYear()) {\n          isValid = false;\n          me.errMsg.push(Notifications.Error.BirthDayLarge);\n        } else if (employee.dateOfBirth.getYear() == currentDate.getYear()) {\n          if (employee.dateOfBirth.getMonth() > currentDate.getMonth()) {\n            isValid = false;\n            me.errMsg.push(Notifications.Error.DepartmentEmpty);\n          } else if (\n            employee.dateOfBirth.getMonth() == currentDate.getMonth()\n          ) {\n            if (employee.dateOfBirth.getDate() > currentDate.getDate()) {\n              isValid = false;\n              me.errMsg.push(Notifications.Error.DepartmentEmpty);\n            }\n          }\n        }\n\n        if (employee.dateOfCard.getYear() > currentDate.getYear()) {\n          isValid = false;\n          me.errMsg.push(Notifications.Error.CartDayLarge);\n        } else if (employee.dateOfCard.getYear() == currentDate.getYear()) {\n          if (employee.dateOfCard.getMonth() > currentDate.getMonth()) {\n            isValid = false;\n            me.errMsg.push(Notifications.Error.CartDayLarge);\n          } else if (employee.dateOfCard.getMonth() == currentDate.getMonth()) {\n            if (employee.dateOfCard.getDate() > currentDate.getDate()) {\n              isValid = false;\n              me.errMsg.push(Notifications.Error.CartDayLarge);\n            }\n          }\n        }\n        // 5. Kiểm tra xem còn lỗi validate hay không\n        if (!isValid) {\n          //Hiển thị thông báo lỗi\n          me.showModal(true);\n\n          return isValid;\n        }\n        return isValid;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    // Hàm mở Modal thông báo lỗi\n    //Author PQBinh (8/7/2022)\n    showModal(IsShow) {\n      this.IsError = IsShow;\n    },\n\n    // Nút mở combobox danh sách chức vụ\n    //Author PQBinh (8/7/2022)\n    toggleOpenListPossition() {\n      // console.log(\"btn open list postion\");\n      this.isShowPossitionDialog = !this.isShowPossitionDialog;\n    },\n\n    // Nút mở combobox dánh sách phòng ban\n    //Author PQBinh (8/7/2022)\n    changeDepartment() {\n      this.isShowDepartmentDialog = true;\n    },\n\n    //Lấy mã nhân viên mới\n    //Author PQBinh (8/7/2022)\n    getNewCode() {\n      var me = this;\n      try {\n        axios\n          .get(\"http://localhost:5240/api/v1/Employees/getNewCode\")\n          .then(function (res) {\n            let newEmployeeCode = res.data;\n            me.employeeSelected.employeeCode = newEmployeeCode;\n            console.log(\"new Code\", newEmployeeCode);\n            // focus vào ô nhập liệu\n            document.getElementById(\"formCode\").focus();\n          })\n          .catch(function (res) {\n            console.log(res);\n          });\n      } catch (er) {\n        console.log(er);\n      }\n    },\n\n    //Nút Hủy Modal thông báo khi đóng\n    //Author PQBinh (8/7/2022)\n    cancelModal() {\n      this.IsShowModalThreeButton = false;\n    },\n\n    //Nút không của Modal thông báo khi đóng form\n    //Author PQBinh (8/7/2022)\n    notModal() {\n      var me = this;\n      me.IsShowModalThreeButton = false;\n      me.closeDialog();\n      me.$emit(\"reloadData\");\n    },\n\n    //Nút có của Modal thông báo khi đóng form\n    //Author PQBinh (8/7/2022)\n    acceptModal() {\n      var me = this;\n      me.IsShowModalThreeButton = false;\n      if (me.editMore == 0) {\n        me.btnSaveOnClick();\n      } else {\n        me.btnSaveAndAddOnClick();\n      }\n    },\n    getDepartmentList() {\n      var me = this;\n      try {\n        axios\n          .get(\"http://localhost:5240/api/v1/Departments\")\n          .then(function (res) {\n            me.departments = res.data;\n            me.departments.forEach((department) => {\n              me.departmentNames.push(department.departmentName);\n              return \"\";\n            });\n            // console.log(\"name\", me.departmentNames);\n          })\n          .catch(function (res) {\n            console.log(res);\n          });\n      } catch (er) {\n        console.log(er);\n      }\n    },\n\n    getPostionList() {\n      var me = this;\n      try {\n        var config = {\n          method: \"get\",\n          url: \"http://localhost:5240/api/v1/Possitions\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            accept: \"application/json\",\n          },\n        };\n        axios(config)\n          .then((res) => {\n            me.postions = res.data;\n            me.postions.forEach((postion) => {\n              me.postionNames.push(postion.postionName);\n              return \"\";\n            });\n          })\n          .catch(function (res) {\n            console.log(res);\n          });\n      } catch (er) {\n        console.log(er);\n      }\n    },\n  },\n  created() {\n    var me = this;\n    me.employeeSelected = me.employeeDetail;\n    // console.log(\"Douple: \", me.isDouple);\n\n    // convert ngày sinh để có thể hiện ở input type date\n    me.employeeSelected.dateOfBirth = formatDate(\n      me.employeeSelected.dateOfBirth\n    )\n      .split(\"/\")\n      .join(\"-\");\n    // me.employeeSelected.dateOfBirth = new Date(me.employeeSelected.dateOfBirth);\n    console.log(me.employeeSelected.dateOfBirth);\n    //convert ngày cấp cmnd để có thể hiện ở input type date\n    me.employeeSelected.dateOfCard = formatDate(me.employeeSelected.dateOfCard)\n      .split(\"/\")\n      .join(\"-\");\n\n    //\n    if (me.isDouple == 1) {\n      me.getNewCode();\n    }\n\n    // document.getElementById(\"formGenderNu\").checked = true;\n    // Lấy danh sách phòng ban\n    me.getDepartmentList();\n    // Lấy danh sách chức vụ\n    me.getPostionList();\n\n    //Check các radio btn\n    me.checkedGenderValue = me.employeeSelected.gender;\n    me.checkedCustomerValue = me.employeeSelected.isCustomer;\n    me.checkedSupplierValue = me.employeeSelected.isSupplier;\n\n    if (me.editMore == 0) {\n      //Lấy mã nhân viên mới\n      me.getNewCode();\n    }\n\n    me.IsCompleteData = false;\n  },\n};\n</script>"]},"metadata":{},"sourceType":"module"}